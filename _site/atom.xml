<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
 
 <title>Daniel Andreasen</title>
 <link href="http://danielandreasen.github.io/" rel="self"/>
 <link href="http://danielandreasen.github.io"/>
 <updated>2015-01-19T08:25:24+00:00</updated>
 <id>http://danielandreasen.github.io</id>
 <author>
   <name>Daniel Andreasen</name>
   <email>daniel.andreasen@astro.up.pt</email>
 </author>

 
 <entry>
   <title>Creating masks in python</title>
   <link href="http://danielandreasen.github.io/:about/2015/01/19/masks-in-python"/>
   <updated>2015-01-19T00:00:00+00:00</updated>
   <id>http://danielandreasen.github.io/:about/2015/01/19/masks-in-python</id>
   <content type="html">
&lt;h2 id=&quot;masks-in-python&quot;&gt;Masks in python&lt;/h2&gt;

&lt;p&gt;When working with data arrays masks can be extremely useful. Masks
are an array of boolean values for which a condition is met (examples
below). These boolean arrays are then used to sort in the original data
array (say we only want values above a given value). Here we will use
&lt;a href=&quot;http://numpy.org&quot;&gt;numpy&lt;/a&gt; arrays which are especially good for handling
data.&lt;/p&gt;

&lt;p&gt;First thing first, let&amp;#8217;s create some random data.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;numpy&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;np&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;0.75969243&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;mf&quot;&gt;0.89605676&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;mf&quot;&gt;0.2667259&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;mf&quot;&gt;0.70995589&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;mf&quot;&gt;0.37337853&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;mf&quot;&gt;0.99088484&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;mf&quot;&gt;0.09859641&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;mf&quot;&gt;0.11185514&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;mf&quot;&gt;0.11283875&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;  &lt;span class=&quot;mf&quot;&gt;0.69043097&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;We now have 10 random numbers between 0 and 1 to work with.&lt;/p&gt;

&lt;h2 id=&quot;higher-than-mask&quot;&gt;Higher than mask&lt;/h2&gt;
&lt;p&gt;Now we create a mask for all values higher than 0.5 and print the values&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;n&quot;&gt;mask1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;0.5&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mask1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;0.75969243&lt;/span&gt;  &lt;span class=&quot;mf&quot;&gt;0.89605676&lt;/span&gt;  &lt;span class=&quot;mf&quot;&gt;0.70995589&lt;/span&gt;  &lt;span class=&quot;mf&quot;&gt;0.99088484&lt;/span&gt;  &lt;span class=&quot;mf&quot;&gt;0.69043097&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;To be complete here is how the mask looks like&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mask1&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;  &lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt;  &lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt;  &lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt;  &lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;With other words, the mask is just an boolean array according to the condition
given above (values higher than 0.5).&lt;/p&gt;

&lt;h2 id=&quot;lower-than-mask&quot;&gt;Lower than mask&lt;/h2&gt;
&lt;p&gt;It is hopefully no surprise that similar masks can be created for values
lower than 0.5 in a very similar way&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;n&quot;&gt;mask2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;0.5&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mask2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;0.2667259&lt;/span&gt;   &lt;span class=&quot;mf&quot;&gt;0.37337853&lt;/span&gt;  &lt;span class=&quot;mf&quot;&gt;0.09859641&lt;/span&gt;  &lt;span class=&quot;mf&quot;&gt;0.11185514&lt;/span&gt;  &lt;span class=&quot;mf&quot;&gt;0.11283875&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2 id=&quot;other-operations&quot;&gt;Other operations&lt;/h2&gt;
&lt;p&gt;We are not limited to greater-than and lower-than operators. Others such as
&lt;code&gt;==&lt;/code&gt; (equality), &lt;code&gt;!=&lt;/code&gt; (not-equality), &lt;code&gt;&amp;lt;=&lt;/code&gt; (less-than or equal), and so on.&lt;/p&gt;

&lt;h2 id=&quot;combining-masks&quot;&gt;Combining masks&lt;/h2&gt;
&lt;p&gt;Before we combine masks we must first understand the difference between &lt;code&gt;and&lt;/code&gt;
and &lt;code&gt;or&lt;/code&gt;. These two statements combine two booleans and return a single
boolean. Here is a table to better understand what is going on.&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;bool1&lt;/th&gt;
      &lt;th&gt;bool2&lt;/th&gt;
      &lt;th&gt;&lt;code&gt;and&lt;/code&gt;&lt;/th&gt;
      &lt;th&gt;&lt;code&gt;or&lt;/code&gt;&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;True&lt;/td&gt;
      &lt;td&gt;True&lt;/td&gt;
      &lt;td&gt;True&lt;/td&gt;
      &lt;td&gt;True&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;True&lt;/td&gt;
      &lt;td&gt;False&lt;/td&gt;
      &lt;td&gt;False&lt;/td&gt;
      &lt;td&gt;True&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;False&lt;/td&gt;
      &lt;td&gt;True&lt;/td&gt;
      &lt;td&gt;False&lt;/td&gt;
      &lt;td&gt;True&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;False&lt;/td&gt;
      &lt;td&gt;False&lt;/td&gt;
      &lt;td&gt;False&lt;/td&gt;
      &lt;td&gt;False&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;The first two columns shows the booleans we use, and the two next columns shows
the return from &lt;code&gt;and&lt;/code&gt; and &lt;code&gt;or&lt;/code&gt;, respectively. We want to use this with out
numpy arrays, but they use a slightly different syntax. Instead of &lt;code&gt;and&lt;/code&gt; we
will use &lt;code&gt;&amp;amp;&lt;/code&gt;, and instead of &lt;code&gt;or&lt;/code&gt; we will use &lt;code&gt;|&lt;/code&gt;.&lt;/p&gt;

&lt;h3 id=&quot;values-between-a-range&quot;&gt;Values between a range&lt;/h3&gt;
&lt;p&gt;Now we want all values in the range [0.2, 0.8].&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;n&quot;&gt;mask3&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;0.2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;0.8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mask3&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt;  &lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;  &lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;  &lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt;  &lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mask3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;0.75969243&lt;/span&gt;  &lt;span class=&quot;mf&quot;&gt;0.2667259&lt;/span&gt;   &lt;span class=&quot;mf&quot;&gt;0.70995589&lt;/span&gt;  &lt;span class=&quot;mf&quot;&gt;0.37337853&lt;/span&gt;  &lt;span class=&quot;mf&quot;&gt;0.69043097&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;values-outside-a-range&quot;&gt;Values outside a range&lt;/h3&gt;
&lt;p&gt;Now we want all values from our array outside of the above range. This can be
done in two easy ways.&lt;/p&gt;

&lt;p&gt;First let me show the same approach as the above example.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;n&quot;&gt;mask4&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;0.2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;0.8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mask4&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt;  &lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt;  &lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;  &lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;  &lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;  &lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mask4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;0.89605676&lt;/span&gt;  &lt;span class=&quot;mf&quot;&gt;0.99088484&lt;/span&gt;  &lt;span class=&quot;mf&quot;&gt;0.09859641&lt;/span&gt;  &lt;span class=&quot;mf&quot;&gt;0.11185514&lt;/span&gt;  &lt;span class=&quot;mf&quot;&gt;0.11283875&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Note that when creating this mask the less-than and greater-than sign
have changed place, and the operator is no longer a &lt;code&gt;&amp;amp;&lt;/code&gt; but a &lt;code&gt;|&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;The easiest way however is using &lt;code&gt;mask3&lt;/code&gt; directly like this.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mask3&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt;  &lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt;  &lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;  &lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;  &lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;  &lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mask3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;0.89605676&lt;/span&gt;  &lt;span class=&quot;mf&quot;&gt;0.99088484&lt;/span&gt;  &lt;span class=&quot;mf&quot;&gt;0.09859641&lt;/span&gt;  &lt;span class=&quot;mf&quot;&gt;0.11185514&lt;/span&gt;  &lt;span class=&quot;mf&quot;&gt;0.11283875&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The &lt;code&gt;~&lt;/code&gt; sign simply change all the values in the mask to the opposite, and
hence we get the same result.&lt;/p&gt;

&lt;p&gt;If you have any questions or comments about masks feel free to leave
them in the comment section down below.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Python's lambda function - a beginner's guide</title>
   <link href="http://danielandreasen.github.io/:about/2015/01/15/pythons-lambda-function"/>
   <updated>2015-01-15T00:00:00+00:00</updated>
   <id>http://danielandreasen.github.io/:about/2015/01/15/pythons-lambda-function</id>
   <content type="html">
&lt;h2 id=&quot;functions-in-python&quot;&gt;Functions in python&lt;/h2&gt;

&lt;p&gt;I learned programming in Matlab and found the syntax easy. However,
writing functions were always a pain. Especially the input/output from
a function. After a year of programming/data reduction I gradually
switched to Python, and found writing functions very easy. Here is a
simple example of adding two numbers.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;This of course is a very simple example. The input is &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt;, and the
function &lt;code&gt;add&lt;/code&gt; gives the user back the sum. A simple call could be like this&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;  &lt;span class=&quot;c&quot;&gt;# prints 7 to the terminal&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;We are all guilty of writing small functions as the on above. Typically it
takes just 3-5 lines, but it can be condensed down to just a single line of
code with the &lt;code&gt;lambda&lt;/code&gt; expression.&lt;/p&gt;

&lt;h2 id=&quot;the-lambda-expression&quot;&gt;The lambda expression&lt;/h2&gt;
&lt;p&gt;Let me first write the same add function as above but with the &lt;code&gt;lambda&lt;/code&gt;
expression, and then brake it down.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;n&quot;&gt;add&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;lambda&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Here the function is also called &lt;code&gt;add&lt;/code&gt; and works in exactly the same way as
before (therefore I will not show it). After the &lt;code&gt;lambda&lt;/code&gt; expression is invoked
all inputs are show separated with a comma (as in the &amp;#8220;traditional&amp;#8221; way). All
after the colon is returned to the user (the sum of the input in this case).&lt;/p&gt;

&lt;p&gt;Let&amp;#8217;s have a look at an example.&lt;/p&gt;

&lt;h2 id=&quot;the-lambda-expression-in-action&quot;&gt;The lambda expression in action&lt;/h2&gt;
&lt;p&gt;I will show an example where I use the &lt;code&gt;filter&lt;/code&gt; function. The documentation
reads&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;filter(function or None, sequence) -&amp;gt; list, tuple, or string&lt;/p&gt;

  &lt;p&gt;Return those items of sequence for which function(item) is true.  If
function is None, return the items that are true.  If sequence is a tuple
or string, return the same type, else return a list.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;So we will try to sort a list of numbers where division by 3 gives 0 remainder.
This task can be done in many ways: 1) a &lt;code&gt;for&lt;/code&gt;-loop and appending the numbers
to an empty array, 2) with a list comprehension, but in this case we
want to make use of 3) the &lt;code&gt;lambda&lt;/code&gt; expression. Here is how:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;lambda&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The first argument in the &lt;code&gt;filter&lt;/code&gt; function is another function, but
created in-place with the &lt;code&gt;lambda&lt;/code&gt; expression. This function returns
&lt;code&gt;True&lt;/code&gt; if the remainder of a number divided by 3 is 0, and &lt;code&gt;False&lt;/code&gt;
otherwise. The second argument is simple a list of numbers from 0 to 9.
This list is filtered and returns the above result.&lt;/p&gt;

&lt;h3 id=&quot;the-list-comprehension-approach&quot;&gt;The list comprehension approach&lt;/h3&gt;
&lt;p&gt;To be complete, let me show you a solution using list comprehension and a for
loop as well. The list comprehension first.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;This is certainly a very elegant solution as well. But today&amp;#8217;s topic is on the
&lt;code&gt;lambda&lt;/code&gt; expression. So let&amp;#8217;s move on.&lt;/p&gt;

&lt;h3 id=&quot;the-for-loop-approach&quot;&gt;The for loop approach&lt;/h3&gt;
&lt;p&gt;Here is a solution many of us might have used in the beginning of our Python
career.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;n&quot;&gt;arr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;arr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;arr&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;This approach gets the job done, and many coming from other programming
languages might be able to read this more easily than the two above
solutions. But take a look at the two approaches above. It is almost
written in English. This is one of Python&amp;#8217;s forces!&lt;/p&gt;

&lt;h2 id=&quot;a-real-life-example&quot;&gt;A real life example&lt;/h2&gt;
&lt;p&gt;Finally, let&amp;#8217;s take a look on a real example. This is from one of the
first times I used the &lt;code&gt;lambda&lt;/code&gt; expression. I have a plot that needs a
legend, but depending on the slope of a fitted line, it should either
say &amp;#8220;Raise the temperature&amp;#8221; or &amp;#8220;Lower the temperature&amp;#8221;. Here is how I
went about it.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;n&quot;&gt;lbl&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;lambda&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;slope&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%s&lt;/span&gt;&lt;span class=&quot;s&quot;&gt; temperature&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;Slope: &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%s&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;Raise&amp;#39;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;slope&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;lower&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;slope&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;And in the plot it is simple called like this&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;ok&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lbl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;slope&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;legend&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;show&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;code&gt;x&lt;/code&gt;, &lt;code&gt;y&lt;/code&gt;, and &lt;code&gt;slope&lt;/code&gt; have been calculated before.&lt;/p&gt;

&lt;p&gt;I hope you all learned something. I&amp;#8217;m still learning about this little
gem, so let me know in the comment section below if you have other cool
uses of the &lt;code&gt;lambda&lt;/code&gt; expression.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Code sharing inside an institution and beyond</title>
   <link href="http://danielandreasen.github.io/:about/2014/11/21/code-sharing-inside-an-institution-and-beyond"/>
   <updated>2014-11-21T00:00:00+00:00</updated>
   <id>http://danielandreasen.github.io/:about/2014/11/21/code-sharing-inside-an-institution-and-beyond</id>
   <content type="html">
&lt;h2 id=&quot;starting-a-project&quot;&gt;Starting a project&lt;/h2&gt;
&lt;p&gt;A couple of weeks ago, two of my colleagues and I decided to write a piece of
software that would act like a wrapper for another software that is more
tedious and annoying to use. We knew this would be a big project, so we created
a repository on GitHub for the purpose. We realized that this project could not
only have a great impact on our group here at the institution, but also for the
general community working on the same problems as we (spectral analysis of
stars).&lt;/p&gt;

&lt;p&gt;Personally I was very excited, since this gave me an opportunity to take my
Python programming skills to the next level, after being stuck at the same
place for some time now. Also it would make my future life easier, and give me
more time to do science and not code development.&lt;/p&gt;

&lt;p&gt;We added small functions to the program when we had time. To be honest we
didn&amp;#8217;t have much time to work on this, but I was still sure (still am)
that this would be a good project.&lt;/p&gt;

&lt;p&gt;Earlier this week I asked one of the collaborators for a meeting to discuss
some issues. And that is when I found out&amp;#8230;&lt;/p&gt;

&lt;h2 id=&quot;sharing-code-internally&quot;&gt;Sharing code internally&lt;/h2&gt;
&lt;p&gt;My colleague told me that his previous supervisor (he is mine and the last
colleagues&amp;#8217; supervisor currently) already have most of this written in Python
and ready to use, which he have done for some time now. I was speechless! First
I thought that was amazing, since the project have the potential as we realized
earlier. Second, I was not able to understand why this was not shared amongst
people in our group.&lt;/p&gt;

&lt;p&gt;I asked that question to my colleague, which I assumed he would also have
asked. The reply he got was simply&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;You did not ask me for it.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;This is not a fair response at all. We had no idea this code already
existed, and we can&amp;#8217;t go around asking everyone in the building before we want
to make a program, if it is already written. This code should have been shared!
No questions asked in my opinion. At least amongst the rest of the institution.&lt;/p&gt;

&lt;h3 id=&quot;what-else-is-out-there&quot;&gt;What else is out there?&lt;/h3&gt;
&lt;p&gt;After my frustration gradually went away I asked the simple question.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;How much code is out there, that I have also written in either a better or
worse way?&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;In either case, that seems like a waste of time to me. Why should two, three,
four people write the same software just because we did not share our code?
Maybe that development time could have been used to improve the already written
software or on science (which we are actually hired to do).&lt;/p&gt;

&lt;p&gt;Unfortunately I have a feeling that there is a lot of software out
there, that is not shared. Probably many big codes are shared, since it
is &amp;#8220;easy&amp;#8221; to write an article around it and get the credit it deserves.
I think that the problem is with smaller pieces of software, either
simple scripts or wrappers. If the code is big or small, it was created for a
purpose. There is a high probability that other people can benefit from that
purpose, and thus it should be made public.&lt;/p&gt;

&lt;p&gt;Note that I use public rather vague. I say public in two different ways.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;1. Public for the rest of the people working at an institution (not really
public).
2. Public for everyone. Everyone should be free to use the code an improve
upon it.
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&quot;where-should-we-put-our-codes&quot;&gt;Where should we put our codes?&lt;/h2&gt;
&lt;p&gt;Obviously as GitHub is hosting my blog I&amp;#8217;m biased toward that. However, the
idea of having code online with version control seems to me as a good choice. I
will focus now on GitHub since that is what I know how to use.&lt;/p&gt;

&lt;p&gt;Here you can create two type of users&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;1. Free user with all repositories public for all.
2. Payed user with a number of repositories closed, and only open for some
invited users.
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;I have a free user (it is possible to upgrade), and recently I started a
&lt;a href=&quot;https://github.com/DanielAndreasen/astro_scripts&quot;&gt;repository&lt;/a&gt; with some of my
scripts. This is maybe not the most elegant solution, but it is a solution. If
you have bigger codes (and not just a bunch of scripts) this should have its
own repository. One of the advantages of using a site like GitHub is that
people can contribute to the code available easily. Another is the possibility
for making a wiki and/or a dedicated web page for the repository.&lt;/p&gt;

&lt;p&gt;An alternative to a page like GitHub many uses is a personal web page.
This is in principle okay, but it lacks the advantages of a dedicated
web page for code development. There is no version control, no issue
tracker, and no easy opportunity for combined development.&lt;/p&gt;

&lt;h3 id=&quot;license&quot;&gt;License&lt;/h3&gt;
&lt;p&gt;Last of all, you should always use a license for your code. This is not
simething I have been very good at, but I see the advantage if you want to have
certain rights.&lt;/p&gt;

&lt;p&gt;If you, as I am, new to the code sharing world and picking the right license,
&lt;a href=&quot;http://choosealicense.com/&quot;&gt;this site&lt;/a&gt; might help you&lt;/p&gt;

&lt;p&gt;Now, there is only to start share your codes so we can all benefits from it and
start doing more fantastic science! Also, if anyone have comments on sharing
code in an institution I am very interested in that.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>NIR spectroscopy of low mass stars - part 1</title>
   <link href="http://danielandreasen.github.io/:about/2014/11/16/nir-spectroscopy-of-low-mass-stars"/>
   <updated>2014-11-16T00:00:00+00:00</updated>
   <id>http://danielandreasen.github.io/:about/2014/11/16/nir-spectroscopy-of-low-mass-stars</id>
   <content type="html">
&lt;h2 id=&quot;why-m-dwarfs&quot;&gt;Why M-dwarfs&lt;/h2&gt;
&lt;p&gt;Today I will give an introduction to my work on low mass stars, in particular
M-dwarfs. Why are M-dwarfs interesting at all? Well, for several reasons, here I
give the two biggest (in my opinion)&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;1. About 70% of the stars in the Milky Way is M-dwarfs.
2. Small rocky exoplanets are known to be prone to form around low mass stars.
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;So first of all, it is alway interesting to study something numerous
which is the case here. Second of all, astronomy is pushing the limits
for the hunt of the Earth&amp;#8217;s twin, i.e. an exoplanet with roughly same
size and mass as the Earth but also in the habitable zone. The habitable
zone is a zone to be found around a star, where temperature allow liquid
water to exist (0-100 degrees Celsius).&lt;/p&gt;

&lt;p&gt;Another nice thing about M-dwarfs is that they are cool (because of their low
mass). This means that an exoplanet can be closer in its orbit and still be in
the habitable zone compared to the Earth. Therefore they require less time to
observe in order to find them. To comparison if we want to observe the Earth
from outer space with the transit method, we will need roughly three years of
observations. This gives us three transits which we say is the minimum to
identify a potential exoplanet.&lt;/p&gt;

&lt;h2 id=&quot;what-is-the-problem-anyway&quot;&gt;What is the problem anyway?&lt;/h2&gt;
&lt;p&gt;The problem with M-dwarfs is they are faint. This is because of their
cool temperature which is all related in one simple equation&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://www.sciweavers.org/tex2img.php?eq=L%20%3D%204%5Cpi%20R%5E2%20%5Csigma%20T_%7Beff%7D%5E4&amp;amp;bc=Black&amp;amp;fc=Gray&amp;amp;im=jpg&amp;amp;fs=12&amp;amp;ff=arev&amp;amp;edit=0&quot; alt=&quot;equation&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Here &lt;code&gt;L&lt;/code&gt; is the luminosity, &lt;code&gt;R&lt;/code&gt; is the radius, and &lt;code&gt;T&lt;/code&gt; is the effective
temperature. The rest are constants. Here we see that a low effective
temperature (the temperature at the surface) gives a low luminosity why
the M-dwarfs are difficult to observe.&lt;/p&gt;

&lt;p&gt;Another issue with M-dwarfs is the formation of molecules in the
atmosphere. Molecules are more complicated than single atoms in terms
of spectroscopy (an probably many other terms as well). Molecules have
the nasty habit of depressing the continuum in the visible part of the
spectra. Determination of the continuum is crucial and non-trivial when
working with spectroscopy. However, this problem is smaller in the Near
InfraRed (NIR).&lt;/p&gt;

&lt;h2 id=&quot;next-step&quot;&gt;Next step&lt;/h2&gt;
&lt;p&gt;The natural next step is to move the spectroscopic analysis to the NIR where
continuum depression is smaller. Another advantage of this region are due to
the fact, that M-dwarfs are very red. This means that most of their light is
actually emitted in the NIR/IR and therefore we can in principle observe for a
shorter time to reach the same signal-to-noise-ratio (SNR). A problem in the
NIR, is the instrumentation. Currently there is not many NIR spectrographs up
and running. Luckily some are planned to be up soon, so we can observe the most
abundant stars in the Universe (limited to our own galaxy).&lt;/p&gt;

&lt;h2 id=&quot;how-does-characterization-work&quot;&gt;How does characterization work?&lt;/h2&gt;
&lt;p&gt;When characterising stars from spectroscopy, there are two main methods.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;1. The Synthesis method. Fitting the spectra with a model spectrum and read the parameters from the model.
2. The Equivalent Width (EW) method. Here one measure the EW of chosen spectral lines and force fit these  to find the parameters.
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The latter is more a line-by-line analysis whereas the first method is more a
fit to a whole region.&lt;/p&gt;

&lt;p&gt;The methods are more complicated than sketched, but my guess is, that
if you read this, you know what I am talking about already (otherwise
you should feel free to leave a comment down below, and I will try to
explain it in more detail).&lt;/p&gt;

&lt;p&gt;For this project I use the second method, everything is done from
scratch! This means that the best spectral lines in a huge wavelength
region will be picked out more or less manually and tested. To pick the
lines, I use the Sun as a template since this is the star we know best,
and we have high-quality spectra in the NIR. Also, I want my method to
not only work for M-dwarfs but also for FGK-dwarfs. The reason for this
is, that I will start using the method on well known FGK-dwarfs and test
the validity of the linelist before moving to M-dwarfs. In this way I
am able to present a linelist that works consistently for FGK+M-dwarfs
which the community currently lacks.&lt;/p&gt;

&lt;h2 id=&quot;what-is-next&quot;&gt;What is next&lt;/h2&gt;
&lt;p&gt;Currently I have a calibrated linelist for the Sun. I am preparing some data
for an F star from the CRIRES spectrograph. When the data is reduced, I will
measure EW of this star, and hopefully be able to refine the linelist and
determine good parameters compared to the literature.&lt;/p&gt;

&lt;p&gt;A part 2 will follow of this post in the &amp;#8220;near&amp;#8221; future. The goal now is around
January/February. This would be after I publish the paper describing above -
hopefully :)&lt;/p&gt;

&lt;p&gt;Stay tuned for more.&lt;/p&gt;
</content>
 </entry>
 
 
</feed>
